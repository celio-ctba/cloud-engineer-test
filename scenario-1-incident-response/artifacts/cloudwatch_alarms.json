{
  "CompositeAlarms": [],
  "MetricAlarms": [
    {
      "AlarmName": "plooral-api-p99-latency",
      "AlarmArn": "arn:aws:cloudwatch:us-east-1:123456789012:alarm:plooral-api-p99-latency",
      "AlarmDescription": "P99 latency for plooral-api exceeds 2 seconds",
      "AlarmConfigurationUpdatedTimestamp": "2024-01-10T09:00:00Z",
      "ActionsEnabled": true,
      "OKActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "AlarmActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "InsufficientDataActions": [],
      "StateValue": "ALARM",
      "StateReason": "Threshold Crossed: 3 datapoints (4200.0, 3890.0, 3456.0) were greater than or equal to the threshold (2000.0).",
      "StateReasonData": "{\"version\":\"1.0\",\"queryDate\":\"2024-01-15T14:20:00.000Z\",\"startDate\":\"2024-01-15T14:05:00.000Z\",\"statistic\":\"p99\",\"period\":300,\"recentDatapoints\":[4200.0,3890.0,3456.0],\"threshold\":2000.0}",
      "StateUpdatedTimestamp": "2024-01-15T14:15:00Z",
      "MetricName": "TargetResponseTime",
      "Namespace": "AWS/ApplicationELB",
      "Statistic": "p99",
      "Dimensions": [
        {
          "Name": "LoadBalancer",
          "Value": "app/plooral-api-prod-alb/a1b2c3d4e5f6g7h8"
        },
        {
          "Name": "TargetGroup",
          "Value": "targetgroup/plooral-api-prod-tg/a1b2c3d4e5f6g7h8"
        }
      ],
      "Period": 300,
      "EvaluationPeriods": 1,
      "DatapointsToAlarm": 1,
      "Threshold": 2000.0,
      "ComparisonOperator": "GreaterThanOrEqualToThreshold",
      "TreatMissingData": "missing"
    },
    {
      "AlarmName": "plooral-api-5xx-rate",
      "AlarmArn": "arn:aws:cloudwatch:us-east-1:123456789012:alarm:plooral-api-5xx-rate",
      "AlarmDescription": "5xx error rate exceeds 1%",
      "AlarmConfigurationUpdatedTimestamp": "2024-01-10T09:00:00Z",
      "ActionsEnabled": true,
      "OKActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "AlarmActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "InsufficientDataActions": [],
      "StateValue": "ALARM",
      "StateReason": "Threshold Crossed: 1 datapoint (3.2) was greater than or equal to the threshold (1.0).",
      "StateReasonData": "{\"version\":\"1.0\",\"queryDate\":\"2024-01-15T14:20:00.000Z\",\"startDate\":\"2024-01-15T14:15:00.000Z\",\"statistic\":\"Average\",\"period\":60,\"recentDatapoints\":[3.2],\"threshold\":1.0}",
      "StateUpdatedTimestamp": "2024-01-15T14:17:00Z",
      "MetricName": "HTTPCode_Target_5XX_Count",
      "Namespace": "AWS/ApplicationELB",
      "Statistic": "Sum",
      "Dimensions": [
        {
          "Name": "LoadBalancer",
          "Value": "app/plooral-api-prod-alb/a1b2c3d4e5f6g7h8"
        }
      ],
      "Period": 60,
      "EvaluationPeriods": 3,
      "DatapointsToAlarm": 2,
      "Threshold": 1.0,
      "ComparisonOperator": "GreaterThanOrEqualToThreshold",
      "TreatMissingData": "notBreaching"
    },
    {
      "AlarmName": "plooral-api-unhealthy-hosts",
      "AlarmArn": "arn:aws:cloudwatch:us-east-1:123456789012:alarm:plooral-api-unhealthy-hosts",
      "AlarmDescription": "One or more ECS tasks are unhealthy",
      "AlarmConfigurationUpdatedTimestamp": "2024-01-10T09:00:00Z",
      "ActionsEnabled": true,
      "OKActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "AlarmActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "InsufficientDataActions": [],
      "StateValue": "ALARM",
      "StateReason": "Threshold Crossed: 1 datapoint (2.0) was greater than or equal to the threshold (1.0).",
      "StateReasonData": "{\"version\":\"1.0\",\"queryDate\":\"2024-01-15T14:20:00.000Z\",\"startDate\":\"2024-01-15T14:17:00.000Z\",\"statistic\":\"Average\",\"period\":60,\"recentDatapoints\":[2.0],\"threshold\":1.0}",
      "StateUpdatedTimestamp": "2024-01-15T14:18:00Z",
      "MetricName": "UnHealthyHostCount",
      "Namespace": "AWS/ApplicationELB",
      "Statistic": "Average",
      "Dimensions": [
        {
          "Name": "LoadBalancer",
          "Value": "app/plooral-api-prod-alb/a1b2c3d4e5f6g7h8"
        },
        {
          "Name": "TargetGroup",
          "Value": "targetgroup/plooral-api-prod-tg/a1b2c3d4e5f6g7h8"
        }
      ],
      "Period": 60,
      "EvaluationPeriods": 1,
      "DatapointsToAlarm": 1,
      "Threshold": 1.0,
      "ComparisonOperator": "GreaterThanOrEqualToThreshold",
      "TreatMissingData": "missing"
    },
    {
      "AlarmName": "plooral-tasks-queue-depth",
      "AlarmArn": "arn:aws:cloudwatch:us-east-1:123456789012:alarm:plooral-tasks-queue-depth",
      "AlarmDescription": "SQS queue depth exceeds 10000 messages",
      "AlarmConfigurationUpdatedTimestamp": "2024-01-10T09:00:00Z",
      "ActionsEnabled": true,
      "OKActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "AlarmActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "InsufficientDataActions": [],
      "StateValue": "ALARM",
      "StateReason": "Threshold Crossed: 1 datapoint (14832.0) was greater than or equal to the threshold (10000.0).",
      "StateReasonData": "{\"version\":\"1.0\",\"queryDate\":\"2024-01-15T14:20:00.000Z\",\"startDate\":\"2024-01-15T14:19:00.000Z\",\"statistic\":\"Average\",\"period\":60,\"recentDatapoints\":[14832.0],\"threshold\":10000.0}",
      "StateUpdatedTimestamp": "2024-01-15T14:20:00Z",
      "MetricName": "ApproximateNumberOfMessagesVisible",
      "Namespace": "AWS/SQS",
      "Statistic": "Average",
      "Dimensions": [
        {
          "Name": "QueueName",
          "Value": "plooral-tasks"
        }
      ],
      "Period": 60,
      "EvaluationPeriods": 2,
      "DatapointsToAlarm": 2,
      "Threshold": 10000.0,
      "ComparisonOperator": "GreaterThanOrEqualToThreshold",
      "TreatMissingData": "missing"
    },
    {
      "AlarmName": "plooral-waf-block-spike",
      "AlarmArn": "arn:aws:cloudwatch:us-east-1:123456789012:alarm:plooral-waf-block-spike",
      "AlarmDescription": "WAF block rate spike detected - may indicate attack or false positives",
      "AlarmConfigurationUpdatedTimestamp": "2024-01-10T09:00:00Z",
      "ActionsEnabled": true,
      "OKActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "AlarmActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "InsufficientDataActions": [],
      "StateValue": "ALARM",
      "StateReason": "Threshold Crossed: 1 datapoint (345.0) was greater than or equal to the threshold (100.0).",
      "StateReasonData": "{\"version\":\"1.0\",\"queryDate\":\"2024-01-15T14:22:00.000Z\",\"startDate\":\"2024-01-15T14:21:00.000Z\",\"statistic\":\"Sum\",\"period\":60,\"recentDatapoints\":[345.0],\"threshold\":100.0}",
      "StateUpdatedTimestamp": "2024-01-15T14:22:00Z",
      "MetricName": "BlockedRequests",
      "Namespace": "AWS/WAFV2",
      "Statistic": "Sum",
      "Dimensions": [
        {
          "Name": "WebACL",
          "Value": "plooral-prod-waf"
        },
        {
          "Name": "Rule",
          "Value": "plooral-rate-limit-rule"
        }
      ],
      "Period": 60,
      "EvaluationPeriods": 1,
      "DatapointsToAlarm": 1,
      "Threshold": 100.0,
      "ComparisonOperator": "GreaterThanOrEqualToThreshold",
      "TreatMissingData": "notBreaching"
    },
    {
      "AlarmName": "plooral-aurora-cpu",
      "AlarmArn": "arn:aws:cloudwatch:us-east-1:123456789012:alarm:plooral-aurora-cpu",
      "AlarmDescription": "Aurora CPU utilization exceeds 80%",
      "AlarmConfigurationUpdatedTimestamp": "2024-01-10T09:00:00Z",
      "ActionsEnabled": true,
      "OKActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "AlarmActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "InsufficientDataActions": [],
      "StateValue": "OK",
      "StateReason": "Threshold not crossed",
      "StateReasonData": "{\"version\":\"1.0\",\"queryDate\":\"2024-01-15T14:20:00.000Z\",\"startDate\":\"2024-01-15T14:15:00.000Z\",\"statistic\":\"Average\",\"period\":300,\"recentDatapoints\":[78.0],\"threshold\":80.0}",
      "StateUpdatedTimestamp": "2024-01-15T14:00:00Z",
      "MetricName": "CPUUtilization",
      "Namespace": "AWS/RDS",
      "Statistic": "Average",
      "Dimensions": [
        {
          "Name": "DBClusterIdentifier",
          "Value": "plooral-aurora-prod"
        }
      ],
      "Period": 300,
      "EvaluationPeriods": 2,
      "DatapointsToAlarm": 2,
      "Threshold": 80.0,
      "ComparisonOperator": "GreaterThanOrEqualToThreshold",
      "TreatMissingData": "missing"
    },
    {
      "AlarmName": "plooral-aurora-connections",
      "AlarmArn": "arn:aws:cloudwatch:us-east-1:123456789012:alarm:plooral-aurora-connections",
      "AlarmDescription": "Aurora connection count exceeds 250 (max: 300)",
      "AlarmConfigurationUpdatedTimestamp": "2024-01-10T09:00:00Z",
      "ActionsEnabled": true,
      "OKActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "AlarmActions": [
        "arn:aws:sns:us-east-1:123456789012:plooral-notify-prod"
      ],
      "InsufficientDataActions": [],
      "StateValue": "ALARM",
      "StateReason": "Threshold Crossed: 1 datapoint (285.0) was greater than or equal to the threshold (250.0).",
      "StateReasonData": "{\"version\":\"1.0\",\"queryDate\":\"2024-01-15T14:20:00.000Z\",\"startDate\":\"2024-01-15T14:18:00.000Z\",\"statistic\":\"Average\",\"period\":60,\"recentDatapoints\":[285.0],\"threshold\":250.0}",
      "StateUpdatedTimestamp": "2024-01-15T14:18:30Z",
      "MetricName": "DatabaseConnections",
      "Namespace": "AWS/RDS",
      "Statistic": "Average",
      "Dimensions": [
        {
          "Name": "DBClusterIdentifier",
          "Value": "plooral-aurora-prod"
        }
      ],
      "Period": 60,
      "EvaluationPeriods": 1,
      "DatapointsToAlarm": 1,
      "Threshold": 250.0,
      "ComparisonOperator": "GreaterThanOrEqualToThreshold",
      "TreatMissingData": "missing"
    }
  ]
}

